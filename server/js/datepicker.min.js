var Datepicker=function(c,d){var e=this;d=void 0===d?{}:d;c=c["split"]?document["querySelector"](c):c;this["listeners"]=["click","focusin","input"];this["days"]="Sun Mon Tue Wed Thu Fri Sat"["split"](" ");this["months"]="January February March April May June July August September October November December"["split"](" ");var f=d=this["validateOptions"](d||this["defaults"]()),g=f["startDate"];f=f["dateSelected"];var h=c["parentElement"],i=document["createElement"]("div");i["classList"]["add"]("datepicker",
"hidden");this["instance"]={"selector":c,"datepicker":i,"parent":h,"position":d["position"],"months":d["months"]||this["months"],"days":d["days"]||this["days"],"startDay":d["startDay"],"startDate":g,"dateSelected":f,"minDate":d["minDate"],"maxDate":d["maxDate"],"dispose":this["dispose"],"formatter":d["formatter"],"onShow":d["onShow"],"onHide":d["onHide"],"onMonthChange":d["onMonthChange"],"onSelect":d["onSelect"],"currentYear":(g||f)["getFullYear"](),"currentMonth":(g||f)["getMonth"](),"currentMonthName":(d["months"]||
this["months"])[(g||f)["getMonth"]()]};f&&this["setInputValue"](c,this["instance"]);this["create"](g||f,this["instance"]);this["listeners"]["forEach"](function(j){window["addEventListener"](j,function(k){return e["eventHandler"](k,e["instance"])})});h["appendChild"](i)};Datepicker["prototype"]["defaults"]=function(){return{"startDate":stripTime(new Date),"position":"bottom left"}};
Datepicker["prototype"]["validateOptions"]=function(l){var m=this,n=l["position"],o=l["maxDate"],p=l["minDate"],q=l["dateSelected"],r=l["months"],s=l["days"],t=l["startDay"],u=l["formatter"];if(n){if(!"top right;top left;top center;bottom right;bottom left;bottom center"["split"](";")["some"](function(v){return v===n}))throw Error("Custom positioning is invalid.");l["position"]=this["setPosition"](n)}else l["position"]=this["setPosition"]("bottom left");["startDate","dateSelected","minDate","maxDate"]["forEach"](function(w){if(l[w]){if(!m["validateDate"](l[w])||
isNaN(+l[w]))throw new TypeError("Date object represents an error and its value is not of the expected type.");l[w]=m["removeTime"](l[w])}});l["startDate"]=l["startDate"]||l["dateSelected"]||removeTime(new Date);l["formatter"]="function"===typeof u?u:null;if(o<p)throw Error("Maximum date value is less than minimum date value.");if(q){if(p>q)throw Error("Date selected value is less than minimum date value.");if(o<q)throw Error("Date selected value is greater than maximum date value.");}["onSelect",
"onShow","onHide","onMonthChange"]["forEach"](function(x){l[x]="function"===typeof l[x]&&l[x]});var y=["Months must be an instance of type Array with the length of 12.","Days must be an instance of type Array with the length of 7."];[r,s]["forEach"](function(z,A){if(z&&("[object Array]"!=={}["toString"]["call"](z)||z["length"]!==(A?7:12)))throw Error(y[A]);});void 0!==t&&+t&&0<+t&&7>+t?(o=(l["days"]||this["days"])["slice"](),p=o["splice"](0,t),l["days"]=o["concat"](p),l["startDay"]=+t):l["startDay"]=
0;return l};Datepicker["prototype"]["eventHandler"]=function(B,C){var D=B["type"],E=B["path"],F=B["target"],G=C["datepicker"],H=C["selector"],I=G["classList"]["contains"]("hidden");E=E["includes"](G);if("focusin"===D)return F===H&&this["show"](C);I?F===H&&this["show"](C):"click"===D&&E?this["click"](B,C):F!==H&&this["hide"](C)};
Datepicker["prototype"]["click"]=function(J,K){var L=K["datepicker"],M=J["target"]["classList"],N=L["querySelector"](".dp-control-deck"),O=L["querySelector"](".dp-overlay-deck");if(M["contains"]("dp-number")){var P="SPAN"===J["target"]["nodeName"]?J["target"]["parentNode"]:J["target"];!["dp-disabled","dp-active","dp-empty"]["some"](function(Q){return P["classList"]["contains"](Q)})&&this["selectDay"](P,K)}else M["contains"]("dp-horizontal-arrow")?this["changeMonthYear"](M,K):J["path"]["includes"](N)?
this["toggleOverlay"](L,!0,K):M["contains"]("dp-overlay-horizontal-arrow")?this["changeYear"](M,K):J["path"]["includes"](O)&&this["submitYear"](M,K)};
Datepicker["prototype"]["changeMonthYear"]=function(R,S){S["currentMonth"]+=R["contains"]("dp-right")?1:-1;12===S["currentMonth"]?(S["currentMonth"]=0,S["currentYear"]++):-1===S["currentMonth"]&&(S["currentMonth"]=11,S["currentYear"]--);this["create"](new Date(S["currentYear"],S["currentMonth"],1),S);S["currentMonthName"]=S["months"][S["currentMonth"]];S["onMonthChange"]&&year&&S["onMonthChange"](S)};
Datepicker["prototype"]["changeYear"]=function(T,U){var V=U["datepicker"];U["currentYear"]+=T["contains"]("dp-overlay-right")?1:-1;V["querySelector"](".dp-overlay-year")["innerText"]=U["currentYear"]};Datepicker["prototype"]["submitYear"]=function(W,X){this["create"](new Date(X["currentYear"],X["currentMonth"],1),X)};
Datepicker["prototype"]["selectDay"]=function(Y,Z){var a0=Z["currentMonth"],a1=Z["currentYear"],a2=Z["selector"],a3=Z["datepicker"]["querySelector"](".dp-active");Z["dateSelected"]=new Date(a1,a0,Y["textContent"]);a3&&a3["classList"]["remove"]("dp-active");Y["classList"]["add"]("dp-active");this["setInputValue"](a2,Z);this["hide"](Z);Z["onSelect"]&&Z["onSelect"](Z)};
Datepicker["prototype"]["setInputValue"]=function(a4,a5){if(a5["formatter"])return a5["formatter"](a4,a5["dateSelected"]);a4["value"]=a5["dateSelected"]["toLocaleDateString"]()};Datepicker["prototype"]["show"]=function(a6){a6["datepicker"]["classList"]["remove"]("hidden");this["calculatePosition"](a6);a6["onShow"]&&a6["onShow"]()};Datepicker["prototype"]["hide"]=function(a7){a7["datepicker"]["classList"]["add"]("hidden");a7["onHide"]&&a7["onHide"]()};
Datepicker["prototype"]["calculatePosition"]=function(a8){var a9=a8["datepicker"],aa=a8["position"],ab=aa["top"],ac=aa["left"];aa=aa["center"];a8=a8["selector"]["getBoundingClientRect"]();var ad=a9["getBoundingClientRect"]();a9["setAttribute"]("style","\n      top: "+(ab?a8["top"]-ad["height"]:a8["top"]+a8["height"])+"px;\n      left: "+(ac?a8["left"]:aa?a8["left"]-ad["width"]/2+a8["width"]/2:a8["right"]-ad["width"])+"px;\n    ")};
Datepicker["prototype"]["create"]=function(ae,af){var ag=this["createControls"](ae,af),ah=this["createWeekdays"](af),ai=this["createMonths"](ae,af),aj=this["createOverlay"](af);af["datepicker"]["innerHTML"]=ag+ah+ai+aj};
Datepicker["prototype"]["createMonths"]=function(ak,al){var am=al["minDate"],an=al["maxDate"],ao=al["dateSelected"],ap=al["currentYear"],aq=al["currentMonth"],ar=al["noWeekends"],as=al["days"],at=new Date,au=at["toJSON"]()["slice"](0,7)===ak["toJSON"]()["slice"](0,7),av=new Date((new Date(ak))["setDate"](1)),aw=av["getDay"]()-al["startDay"],ax=0>aw?7:0;av["setMonth"](av["getMonth"]()+1);av["setDate"](0);av=av["getDate"]();var ay=[];ax=ax+7*((aw+av)/7|0)+((aw+av)%7?7:0);0!==al["startDay"]&&0===aw&&
(ax+=7);for(var az=1;az<=ax;az++){var aA=as[(az-1)%7],aB=az-(0<=aw?aw:7+aw),aC=new Date(ap,aq,aB),aD=1>aB||aB>av,aE='<span class="dp-number">'+aB+"</span>";if(aD){var aF="dp-empty";aE=""}else{aF=am&&aC<am||an&&aC>an;var aG=as[0];aA=aA===as[6]||aA===aG;aB=au&&!aF&&aB===at["getDate"]();aF=(aF=aF||ar&&aA)?"dp-disabled":aB?"dp-current":""}+aC!==+ao||aD||(aF+=" dp-active");ay["push"]('<div class="dp-number '+aF+'">'+aE+"</div>")}ay["unshift"]('<div class="dp-numbers">');ay["push"]("</div>");return ay["join"]("")};
Datepicker["prototype"]["createWeekdays"]=function(aH){var aI=[];aH["days"]["map"](function(aJ){aI["push"]('<div class="dp-day">'+aJ+"</div>")})["concat"](aI);if(0!==aI["length"]%7)throw Error("Datepicker is not constructed properly.");aI["unshift"]('<div class="dp-weekdays">');aI["push"]("</div>");return aI["join"]("")};
Datepicker["prototype"]["createControls"]=function(aK,aL){return'\n      <div class="dp-controls">\n        <div class="dp-horizontal-arrow dp-left"><span class="fa fa-arrow-circle-left"></span></div>\n        <div class="dp-control-deck">\n          <span class="dp-month">'+aL["months"][aK["getMonth"]()]+'</span>\n          <span class="dp-year">'+aK["getFullYear"]()+'</span>\n        </div>\n        <div class="dp-horizontal-arrow dp-right"><span class="fa fa-arrow-circle-right"></span></div>\n      </div>\n    '};
Datepicker["prototype"]["createOverlay"]=function(aM){return'\n      <div class="dp-overlay hidden">\n        <div class="dp-overlay-horizontal-arrow dp-overlay-left"><span class="fa fa-arrow-circle-left"></span></div>\n        <div class="dp-overlay-deck">\n          <span class="dp-overlay-year">'+aM["currentYear"]+'</span>\n        </div>\n        <div class="dp-overlay-horizontal-arrow dp-overlay-right"><span class="fa fa-arrow-circle-right"></span></div>\n      </div>\n    '};
Datepicker["prototype"]["setPosition"]=function(aN){var aO={};aN=aN["split"](" ");aO[aN[0]]=1;aO[aN[1]]=1;return aO};Datepicker["prototype"]["validateDate"]=function(aP){return"[object Date]"==={}["toString"]["call"](aP)};Datepicker["prototype"]["removeTime"]=function(aQ){return new Date(aQ["toDateString"]())};Datepicker["prototype"]["toggleOverlay"]=function(aR,aS,aT){aR["querySelector"](".dp-overlay")["classList"]["toggle"]("hidden")};
Datepicker["prototype"]["dispose"]=function(){var aU=this,aV=this["instance"]["datepicker"];this["listeners"]["forEach"](function(aW){window["removeEventListener"](aW,aU["eventHandler"])});aV["remove"]()};
