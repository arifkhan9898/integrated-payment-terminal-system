var Timepicker=function(c,d){var e=this;d=void 0===d?{}:d;c=c["split"]?document["querySelector"](c):c;this["listeners"]=["click","focusin","input"];var f=d=this["validateOptions"](d||this["defaults"]()),g=f["timeSelected"],h=f["rounding"];f=f["minutesIteration"];var i=c["parentElement"],j=document["createElement"]("div");j["classList"]["add"]("timepicker","hidden");this["instance"]={"selector":c,"timepicker":j,"parent":i,"timeSelected":g,"position":d["position"],"onShow":d["onShow"],"onHide":d["onHide"],
"onChange":d["onChange"],"hoursIteration":d["hoursIteration"]||1,"minutesIteration":d["minutesIteration"]||1,"meridiem":d["meridiem"],"rounding":d["rounding"]};this["create"](this["instance"]);h&&g["setMinutes"](this["calculateRemainderDivision"](g["getMinutes"](),f));this["setInputValue"](g,this["instance"]);this["listeners"]["forEach"](function(k){window["addEventListener"](k,function(l){return e["eventHandler"](l,e["instance"])})});i["appendChild"](j)};
Timepicker["prototype"]["calculateRemainderDivision"]=function(m,n){return 0!==m%n?this["calculateRemainderDivision"](m+1,n):m};Timepicker["prototype"]["create"]=function(o){var p=this["createControl"]("tp-hourRibbon",o),q=this["createControl"]("tp-minuteRibbon",o);o["timepicker"]["innerHTML"]=p+q};
Timepicker["prototype"]["createControl"]=function(r,s){var t=[],u=document["createElement"]("button");u["classList"]["add"]("tp-item","tp-button","tp-increment");u["innerHTML"]="&uarr;";t["push"](u["outerHTML"]);u=document["createElement"]("div");u["classList"]["add"]("tp-item","tp-face");"tp-hourRibbon"===r?u["innerHTML"]=this["isLessThanTen"](s["timeSelected"]["getHours"]()):(s["rounding"]&&s["timeSelected"]["setMinutes"](this["calculateRemainderDivision"](s["timeSelected"]["getMinutes"](),s["minutesIteration"])),
u["innerHTML"]=this["isLessThanTen"](s["timeSelected"]["getMinutes"]()));t["push"](u["outerHTML"]);u=document["createElement"]("button");u["classList"]["add"]("tp-item","tp-button","tp-decrement");u["innerHTML"]="&darr;";t["push"](u["outerHTML"]);t["unshift"]('<div class="tp-ribbon '+r+'">');t["push"]("</div>");return t["join"]("")};
Timepicker["prototype"]["eventHandler"]=function(v,w){var x=v["type"],y=v["path"],z=v["target"],A=w["timepicker"],B=w["selector"],C=A["classList"]["contains"]("hidden");y=y["includes"](A);if("focusin"===x)return z===B&&this["show"](w);C?z===B&&this["show"](w):"click"===x&&y?(v["preventDefault"](),"BUTTON"===z["nodeName"]&&(z["parentElement"]["classList"]["contains"]("tp-hourRibbon")?(z["classList"]["contains"]("tp-increment")?this["changeTime"](w,0):this["changeTime"](w,0,!0),z["parentElement"]["querySelector"](".tp-face")["innerText"]=
this["isLessThanTen"](w["timeSelected"]["getHours"]())):z["parentElement"]["classList"]["contains"]("tp-minuteRibbon")&&(z["classList"]["contains"]("tp-increment")?this["changeTime"](w,1):this["changeTime"](w,1,!0),z["parentElement"]["querySelector"](".tp-face")["innerText"]=this["isLessThanTen"](w["timeSelected"]["getMinutes"]())),this["setInputValue"](w["timeSelected"],w),z!==B&&w["onChange"](this,w))):z!==B&&this["hide"](w)};
Timepicker["prototype"]["changeTime"]=function(D,E,F){F=void 0===F?!1:F;var G=D["timeSelected"],H=D["hoursIteration"];D=D["minutesIteration"];var I=G["toTimeString"]()["split"](" ")[0]["split"](":");0===E?(E=I[0],F=!0===F?parseInt(E)-H:parseInt(E)+H,0>=F?F=23:23<F&&(F=0),G["setHours"](F)):1===E&&(H=I[1],F=!0===F?parseInt(H)-D:parseInt(H)+D,0>F?F=60-Math["abs"](F):59<F&&(F-=60),G["setMinutes"](F))};
Timepicker["prototype"]["setInputValue"]=function(J,K){K["selector"]["value"]=this["isLessThanTen"](J["getHours"]())+":"+this["isLessThanTen"](J["getMinutes"]())};Timepicker["prototype"]["show"]=function(L){L["timepicker"]["classList"]["remove"]("hidden");this["calculatePosition"](L);L["onShow"]&&L["onShow"](L)};Timepicker["prototype"]["hide"]=function(M){M["timepicker"]["classList"]["add"]("hidden");M["onHide"]&&M["onHide"](M)};
Timepicker["prototype"]["calculatePosition"]=function(N){var O=N["timepicker"],P=N["position"],Q=P["top"],R=P["left"];P=P["center"];N=N["selector"]["getBoundingClientRect"]();var S=O["getBoundingClientRect"]();O["setAttribute"]("style","\n      top: "+(Q?N["top"]-S["height"]:N["top"]+N["height"])+"px;\n      left: "+(R?N["left"]:P?N["left"]-S["width"]/2+N["width"]/2:N["right"]-S["width"])+"px;\n    ")};Timepicker["prototype"]["isLessThanTen"]=function(T){return("0"+T)["substr"](-2)};
Timepicker["prototype"]["defaults"]=function(){return{}};Timepicker["prototype"]["validateOptions"]=function(U){var V=U["position"];if(V){if(!this["exist"]("top right;top left;top center;bottom right;bottom left;bottom center"["split"](";"),V))throw Error("Custom positioning is invalid.");U["position"]=this["setPosition"](V)}else U["position"]=this["setPosition"]("bottom left");["onChange","onShow","onHide"]["forEach"](function(W){U[W]="function"===typeof U[W]&&U[W]});return U};
Timepicker["prototype"]["exist"]=function(X,Y){X=void 0===X?{}:X;return X["some"](function(Z){return Z===Y})};Timepicker["prototype"]["setPosition"]=function(a0){var a1={};a0=a0["split"](" ");a1[a0[0]]=1;a1[a0[1]]=1;return a1};Timepicker["prototype"]["dispose"]=function(){var a2=this,a3=this["instance"]["timepicker"];this["listeners"]["forEach"](function(a4){window["removeEventListener"](a4,a2["eventHandler"])});a3["remove"]()};
